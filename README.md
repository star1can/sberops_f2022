# Дисклеймер

Автор с большим уважением относится к вашему ПК, поэтому ansible будет запускаться из под контейнера. Все необходимые скрипты вы найдете в папке `docker`.

В данном задании все роли применяются к localhost, более того используется тот же docker сокет, что и у localhost. **ЭТО ОЧЕНЬ НЕБЕЗОПАСНО**. 
  
После применения роли вы сможете найти исходный код и jar-ники в папке `/tmp/ansible-project/`, там же находятся и volume для баз данных.

# Архитектура

Де-факто имеем 6 контейнеров: 
1. `ansible` - непосредственно ansible, создается пользователем с помощью скрипта или docker-compose
2. `greeting-service:8080` - "production" версия нашего приложения, исходный код внутри отсутствует. Создается ansible. По задумке автора данная роль (в которую включено создание данного контейнера) должна применяться при раскатке в продакшн, jar-ник и конфиг файлы должны браться из некоторого централизованного хранилища. Однако, ввиду некоторых обстоятельств, в текущей реализации jar-ник и конфиги зашиты в папке с ролью. Также сделан volume в папку `/tmp/ansible-project/prod/exec`, в нем на локальной машине находятся конфиги и jar-ник, которые вы можете менять
3. `prod-db:5433` - prod база данных. Создается ansible
4. `greeting-service-dev:8081` - контейнер в котором сделан volume с исходным кодом. Создается ansible. По задумке в данном контейнере крутится dev-версия приложения. В volume `/tmp/ansible-project/dev/repo/simpleApp/greeting-service` находится исходный код приложения, после изменения которого контейнер будет автоматически перезапускаться.
5. `dev-db:5434` - dev база данных. Создается ansible
6. `adminer:8083` - админер для работы с dev-db. Создается ansible

# P.S.
- не забудьте запустить `docker`
- описание приложения доступно в ветке `hw1`
